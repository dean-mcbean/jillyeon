import{d as k,r as m,o as S,J as x,t as R,v as I,x as p,y as b,K as B,_ as M}from"./B41I_ujV.js";const P=window.setInterval,W={class:"base-div"},r=40,i=40,a=10,z=k({__name:"dots",setup(D){const n=m(new Array(r).fill(null).map(()=>new Array(i).fill(0))),s=m(!1),u=r*a,f=i*a;let l;const _=()=>{s.value=!s.value},h=(e,t,o)=>{n.value[e][t]===o?n.value[e][t]=0:n.value[e][t]=o},d=e=>{e.clearRect(0,0,u,f);for(let t=0;t<r;t++)for(let o=0;o<i;o++)n.value[t][o]===1?(e.fillStyle="#008",e.fillRect(t*a,o*a,a,a)):n.value[t][o]===2&&(e.fillStyle="#800",e.fillRect(t*a,o*a,a,a))},v=e=>{const t=e.target,o=t.getBoundingClientRect(),c=e.clientX-o.left,y=e.clientY-o.top,C=Math.floor(c/a),w=Math.floor(y/a);h(C,w,e.button===0?1:2);const g=t.getContext("2d");g&&d(g),e.preventDefault()};return S(()=>{const e=document.querySelector("canvas"),t=e==null?void 0:e.getContext("2d");if(t){d(t),l=new Worker(new URL(""+new URL("gameWorker-OzJCctIC.js",import.meta.url).href,import.meta.url)),l.onmessage=c=>{n.value=c.data,d(t)};const o=P(()=>{s.value||l.postMessage(JSON.stringify({grid:n.value,gridWidth:r,gridHeight:i}))},100);x(()=>{clearInterval(o),l.terminate()})}}),(e,t)=>(R(),I("div",W,[p("canvas",{ref:"canvas",width:u,height:f,onClick:v,onContextmenu:v},null,544),p("div",{class:"button",style:B({backgroundColor:s.value?"#f00":"#0f0",color:s.value?"#fff":"#000"}),onClick:_},b(s.value?"Play":"Pause"),5)]))}}),U=M(z,[["__scopeId","data-v-4d76ded5"]]);export{U as default};
